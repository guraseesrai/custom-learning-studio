# üéì Custom Learning Studio

**Custom Learning Studio** is an interactive, AI-powered tool that generates structured learning scripts from PDF or Word documents based on user-defined learning outcomes. Built with **FastAPI**, **LangChain**, and **OpenAI GPT-4**, the app features a modern **Bootstrap 5** frontend with dark mode, confetti animations, live stats, and instant JSON downloads.

---

## ‚ú® Key Features

- ü§ñ **AI-Generated Content**: Powered by GPT-4 via LangChain for intelligent script generation
- üìÑ **Multi-Format Support**: Upload `.pdf` or `.docx` files to extract book/course content
- üéØ **Custom Learning Outcomes**: Enter specific learning goals and receive tailored structured scripts
- üíæ **Instant Downloads**: Download results immediately as formatted JSON files
- üéâ **Modern UI**: Animated interface with confetti effects, dark-mode toggle, and live counters
- ‚òÅÔ∏è **Cloud Backup**: Optional AWS S3 integration for script storage
- üìä **Real-time Stats**: Live processing statistics and progress tracking
- üé® **Responsive Design**: Bootstrap 5 ensures perfect display on all devices
- üåô **Dark Mode**: Seamless light/dark theme switching with persistent preferences
- üé¨ **Hero Video**: Engaging background video with smooth overlay effects

---

## üß± Project Structure

```text
custom_learning_studio/
‚îú‚îÄ‚îÄ main.py               # FastAPI backend server
‚îú‚îÄ‚îÄ book_processor.py     # PDF/Word parsing & GPT-4 prompts
‚îú‚îÄ‚îÄ llm_service.py        # OpenAI API helper functions
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html        # Bootstrap 5 frontend interface
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ script.js         # Frontend logic and interactions
‚îÇ   ‚îî‚îÄ‚îÄ styles.css        # Custom theme styles with dark mode
‚îú‚îÄ‚îÄ uploads/              # Temporary file storage directory
‚îÇ   ‚îú‚îÄ‚îÄ .env              # Environment variables (not committed)
‚îÇ   ‚îú‚îÄ‚îÄ key.env           # Backup key storage
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt  # Python dependencies
‚îî‚îÄ‚îÄ README.md             # Project documentation
```

---

## üöÄ Getting Started

### Prerequisites

- Python 3.8 or higher
- OpenAI API key
- Git (for cloning)

### Installation Steps

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/custom_learning_studio.git
   cd custom_learning_studio
   ```

2. **Create virtual environment** (recommended)
   ```bash
   python -m venv venv
   source venv/bin/activate  # On Windows: venv\Scripts\activate
   ```

3. **Install Python dependencies**
   ```bash
   pip install -r uploads/requirements.txt
   ```

4. **Set up environment variables**
   
   Create a `.env` file in the project root or use the existing one in `uploads/`:
   ```ini
   OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
   AWS_ACCESS_KEY_ID=your_aws_access_key (optional)
   AWS_SECRET_ACCESS_KEY=your_aws_secret_key (optional)
   AWS_DEFAULT_REGION=us-west-2 (optional)
   ```

5. **Run the FastAPI server**
   ```bash
   uvicorn main:app --reload
   ```

6. **Access the application**
   
   Open your browser and navigate to `http://localhost:8000`

---

## üìñ Usage Guide

### Basic Workflow

1. **Upload Document**: Select and upload a PDF or Word document containing your source material
2. **Define Learning Outcomes**: Enter specific learning objectives you want to achieve (one per line)
3. **Generate Script**: Click "Generate Scripts" to process your content with AI
4. **Review Results**: Examine the structured learning script generated by GPT-4
5. **Download**: Automatically download your results as a JSON file

### Supported File Formats

- **PDF Files** (`.pdf`): Text extraction using PyPDF2 or similar libraries
- **Word Documents** (`.docx`): Content parsing using python-docx

### Learning Outcome Examples

- "Understand the fundamental principles of machine learning"
- "Learn to implement basic data structures in Python"
- "Master advanced SQL query optimization techniques"
- "Develop proficiency in React component architecture"

---

## üìÅ API Endpoints

### Core Endpoints

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/` | Main application interface |
| `POST` | `/generate_seed/` | Upload document and generate learning scripts |
| `GET` | `/health` | API health check |

### Request/Response Examples

**Generate Seed Script:**
```bash
curl -X POST "http://localhost:8000/generate_seed/" \
     -H "accept: application/json" \
     -H "Content-Type: multipart/form-data" \
     -F "file=@document.pdf" \
     -F "learning_outcomes=Master Python fundamentals" \
     -F "learning_outcomes=Understand data structures"
```

**Response:**
```json
{
  "message": "Seed script generated and stored in S3",
  "s3_url": "https://seedstore.s3.YOUR_REGION.amazonaws.com/seed/seed_scripts.json"
}
```

---

## üé® Frontend Features

### Modern UI Components
- **Hero Section**: Full-screen video background with overlay and animated text
- **Interactive Cards**: Hover effects with animated gradient borders
- **Progress Indicators**: Real-time processing status with loading spinners
- **Animated Counters**: Live statistics display using CountUp.js
- **Confetti Effects**: Success celebration animations on script generation
- **Smooth Scrolling**: AOS (Animate On Scroll) animations throughout
- **Testimonial Carousel**: Bootstrap carousel with user testimonials

### Dark Mode Implementation
- **CSS Variables**: Theme management with custom properties
- **Persistent Preferences**: Dark mode toggle with smooth transitions
- **Enhanced Visibility**: Optimized colors and contrast ratios
- **Bootstrap Integration**: Compatible with Bootstrap 5 dark mode utilities

### Interactive Elements
```javascript
// Example: Confetti on successful generation
confetti({
  particleCount: 100,
  spread: 70,
  origin: { y: 0.6 }
});

// Example: Animated counter updates
function incrementCounter(id) {
  const el = document.getElementById(id);
  const oldValue = parseInt(el.textContent, 10) || 0;
  const newValue = oldValue + 1;
  const countUpInstance = new countUp.CountUp(el, newValue, { duration: 1, separator: "," });
  countUpInstance.start();
}
```

---

## ‚öôÔ∏è Configuration

### Environment Variables

| Variable | Description | Required |
|----------|-------------|----------|
| `OPENAI_API_KEY` | Your OpenAI API key for GPT-4 access | Yes |
| `AWS_ACCESS_KEY_ID` | AWS access key for S3 backup | No |
| `AWS_SECRET_ACCESS_KEY` | AWS secret key for S3 backup | No |
| `AWS_DEFAULT_REGION` | AWS region for S3 bucket | No |

### Token Management

The application includes intelligent token management to stay within API limits:

```python
# Token limits for context and scripts
MAX_CONTEXT_TOKENS = 1500
MAX_SCRIPT_TOKENS = 1500

def count_tokens(text, model="gpt-4"):
    """Count tokens using tiktoken."""
    encoding = tiktoken.encoding_for_model(model)
    tokens = encoding.encode(text)
    return len(tokens)

def truncate_to_token_limit(text, token_limit, model="gpt-4"):
    """Truncate text to stay within token limits."""
    encoding = tiktoken.encoding_for_model(model)
    tokens = encoding.encode(text)
    if len(tokens) > token_limit:
        tokens = tokens[:token_limit]
        text = encoding.decode(tokens)
    return text
```

---

## ‚òÅÔ∏è AWS S3 Integration

### Setup Instructions

1. **Configure AWS credentials** in your `.env` file
2. **Create an S3 bucket** named "seedstore" (or update the bucket name)
3. **Set proper permissions** for upload access

### S3 File Structure
```text
seedstore/
‚îú‚îÄ‚îÄ seed/
‚îÇ   ‚îú‚îÄ‚îÄ seed_scripts.json
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ scripts.json
    ‚îî‚îÄ‚îÄ ...
```

### Upload Function
```python
def upload_file_to_s3(file_path, bucket_name, folder):
    """Upload file to S3 with folder structure."""
    object_name = f"{folder}/{os.path.basename(file_path)}"
    s3_client = boto3.client('s3', region_name='us-west-2')
    try:
        s3_client.upload_file(file_path, bucket_name, object_name)
        print(f"Uploaded {file_path} to s3://{bucket_name}/{object_name}")
    except Exception as e:
        print(f"Error uploading file: {e}")
        raise e
```

---

## üõ† Built With

### Backend Technologies
- **[FastAPI](https://fastapi.tiangolo.com/)** - High-performance Python web framework
- **[LangChain](https://langchain.com/)** - Framework for chaining LLM prompts & document processing
- **[OpenAI GPT-4](https://openai.com/)** - Large language model for intelligent script generation
- **[PyPDF2](https://pypdf2.readthedocs.io/)** - PDF text extraction library
- **[python-docx](https://python-docx.readthedocs.io/)** - Word document processing
- **[tiktoken](https://github.com/openai/tiktoken)** - Token counting and management

### Frontend Technologies
- **[Bootstrap 5](https://getbootstrap.com/)** - Responsive UI component library
- **[Bootstrap Icons](https://icons.getbootstrap.com/)** - Icon library for UI elements
- **[AOS](https://michalsnik.github.io/aos/)** - Animate On Scroll library for smooth animations
- **[CountUp.js](https://inorganik.github.io/countUp.js/)** - Animated number counters
- **[Canvas Confetti](https://github.com/catdad/canvas-confetti)** - Celebration confetti effects

### Cloud Services
- **[AWS S3](https://aws.amazon.com/s3/)** - Cloud storage for generated scripts (bucket: "seedstore")

---

## üì¶ Dependencies

### Required Python Packages
```text
fastapi
uvicorn
python-multipart
python-dotenv
openai
langchain_community
tiktoken
python-docx
```

### CDN Resources
- Bootstrap 5.3.0 (CSS & JS)
- Bootstrap Icons 1.10.5
- AOS 2.3.4
- CountUp.js 2.0.8
- Canvas Confetti 1.5.1

---

## üîß Development

### Local Development Setup

1. **Install development dependencies**
   ```bash
   pip install -r uploads/requirements.txt
   ```

2. **Run in development mode**
   ```bash
   uvicorn main:app --reload --debug
   ```

3. **Access API documentation**
   - Swagger UI: `http://localhost:8000/docs`
   - ReDoc: `http://localhost:8000/redoc`

### Code Structure

**Backend (Python)**
- `main.py`: FastAPI application setup and route definitions
- `book_processor.py`: Document parsing, content extraction, and S3 integration
- `llm_service.py`: OpenAI API integration and prompt management

**Frontend (JavaScript/CSS)**
- `script.js`: User interactions, API calls, confetti effects, and UI updates
- `styles.css`: Custom styling, dark mode implementation, and theme definitions
- `index.html`: HTML structure, Bootstrap components, and animations

---

## üé¨ UI/UX Features

### Hero Section
- Full-screen background video with typing animation
- Smooth overlay effects for text readability
- Call-to-action button with scroll-to-form functionality

### Interactive Components
- **Hover Effects**: Cards with animated gradient borders
- **Loading States**: Spinners and progress indicators
- **Success Feedback**: Confetti animations on successful generation
- **Scroll Effects**: Smooth scroll-to-top button
- **Theme Toggle**: Persistent dark/light mode switching

### Animations
- **AOS Integration**: Fade-up, zoom-in, and slide animations
- **CountUp Counters**: Animated statistics on page load
- **CSS Transitions**: Smooth theme transitions and hover effects
- **Gradient Animations**: Rotating gradient borders on card hover

---

## üîí Security Considerations

### API Security
- Input validation and sanitization for file uploads
- File type verification (PDF and DOCX only)
- Token limits to prevent API abuse
- Secure handling of environment variables

### Data Privacy
- Temporary file cleanup after processing
- No persistent storage of user content locally
- Optional S3 encryption for cloud storage
- Secure API key management with environment variables

---

## üöÄ Deployment

### Production Deployment

1. **Using Docker** (create Dockerfile)
   ```bash
   docker build -t custom-learning-studio .
   docker run -p 8000:8000 custom-learning-studio
   ```

2. **Using Gunicorn**
   ```bash
   pip install gunicorn
   gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker
   ```

3. **Environment Variables for Production**
   ```ini
   ENVIRONMENT=production
   DEBUG=false
   OPENAI_API_KEY=your_production_key
   AWS_ACCESS_KEY_ID=your_production_aws_key
   AWS_SECRET_ACCESS_KEY=your_production_aws_secret
   AWS_DEFAULT_REGION=us-west-2
   ```

### Hosting Options
- **Heroku**: Easy deployment with git integration
- **AWS EC2**: Full control with custom configuration
- **Google Cloud Run**: Serverless container deployment
- **DigitalOcean App Platform**: Simplified cloud hosting

---

## üß™ Testing

### API Testing
```bash
# Test file upload and script generation
curl -X POST http://localhost:8000/generate_seed/ \
     -F "file=@test.pdf" \
     -F "learning_outcomes=Test outcome 1" \
     -F "learning_outcomes=Test outcome 2"

# Test health endpoint
curl -X GET http://localhost:8000/health
```

### Frontend Testing
- Manual testing of dark mode toggle
- File upload validation
- Confetti animation triggers
- Responsive design on different screen sizes

---

## üìä Performance Optimization

### Backend Optimizations
- Async/await patterns for non-blocking operations
- Efficient document parsing with text chunking
- Token counting and truncation for API efficiency
- Memory management for large file uploads
- S3 upload optimization with proper error handling

### Frontend Optimizations
- Lazy loading for animations and effects
- CDN-hosted libraries for faster loading
- Optimized CSS with CSS variables for theming
- Efficient JavaScript event handling
- Progressive enhancement for accessibility

---

## ü§ù Contributing

We welcome contributions! Please follow these steps:

1. **Fork the repository**
2. **Create a feature branch** (`git checkout -b feature/amazing-feature`)
3. **Commit your changes** (`git commit -m 'Add amazing feature'`)
4. **Push to the branch** (`git push origin feature/amazing-feature`)
5. **Open a Pull Request**

### Development Guidelines
- Follow PEP 8 for Python code style
- Use meaningful commit messages
- Test both light and dark mode functionality
- Ensure responsive design works on all devices
- Update documentation as needed

---

## üìÑ License

This project is licensed under the **MIT License**. See the [LICENSE](LICENSE) file for details.

```text
MIT License

Copyright (c) 2024 Custom Learning Studio

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## üéØ Roadmap

### Planned Features
- Multiple output formats (PDF, Word, HTML)
- Batch processing for multiple documents
- User authentication and project management
- Advanced prompt customization
- Integration with more LLM providers
- Mobile app development

### Recent Updates
- ‚úÖ Dark mode implementation with persistent preferences
- ‚úÖ Hero video background with smooth overlay
- ‚úÖ Confetti animations for success feedback
- ‚úÖ Animated counters with CountUp.js
- ‚úÖ S3 integration for cloud storage
- ‚úÖ Token management for API efficiency
